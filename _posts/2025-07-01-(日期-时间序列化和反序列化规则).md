
---

# ğŸŒŸ ä»€ä¹ˆå«â€œåºåˆ—åŒ–â€å’Œâ€œååºåˆ—åŒ–â€ï¼Ÿ

å…ˆä¸¾ä¸ªä¾‹å­ï¼Œä½ å°±æ˜ç™½äº†ï¼š

## ğŸ¯ 1. åºåˆ—åŒ–

**æŠŠJavaå¯¹è±¡å˜æˆå­—ç¬¦ä¸²**ï¼ˆç»™å‰ç«¯è¿”å›JSONï¼‰
æ¯”å¦‚ï¼š

```java
LocalDateTime now = LocalDateTime.of(2025, 7, 1, 12, 30, 45);
```

å¦‚æœä½ è¿”å›ç»™å‰ç«¯ï¼ŒJacksonè¦æŠŠå®ƒå˜æˆå­—ç¬¦ä¸²ï¼š

* é»˜è®¤ï¼ˆJacksonè‡ªå·±ï¼‰ï¼š

  ```json
  "2025-07-01T12:30:45"
  ```

  ï¼ˆæ³¨æ„è¿™é‡Œæœ‰ä¸ªTï¼‰

* å¦‚æœä½ é…ç½®äº†æ ¼å¼ï¼š

  ```json
  "2025-07-01 12:30:45"
  ```

  ï¼ˆå»æ‰äº†Tï¼Œæ›´å¥½çœ‹ï¼‰

è¿™ä¸ª**ä»Javaå¯¹è±¡ â¡ï¸ JSONå­—ç¬¦ä¸²**çš„è¿‡ç¨‹ï¼Œå°±å«ï¼š
ğŸ‘‰ **åºåˆ—åŒ–**

---

## ğŸ¯ 2. ååºåˆ—åŒ–

**æŠŠå­—ç¬¦ä¸²å˜å›Javaå¯¹è±¡**ï¼ˆå‰ç«¯æäº¤JSONç»™åç«¯ï¼‰
æ¯”å¦‚å‰ç«¯æäº¤ï¼š

```json
"2025-07-01 12:30:45"
```

Jacksonå°±è¦æŠŠå®ƒå˜æˆï¼š

```java
LocalDateTime.of(2025,7,1,12,30,45)
```

è¿™ä¸ª**ä»å­—ç¬¦ä¸² â¡ï¸ Javaå¯¹è±¡**çš„è¿‡ç¨‹ï¼Œå°±å«ï¼š
ğŸ‘‰ **ååºåˆ—åŒ–**

---

## ğŸŒŸ 3. ä¸ºä»€ä¹ˆè¦é…â€œåºåˆ—åŒ–/ååºåˆ—åŒ–è§„åˆ™â€ï¼Ÿ

å› ä¸ºé»˜è®¤Jacksonåªè®¤è¯†è¿™ç§å¸¦Tçš„æ ¼å¼ï¼š

```
2025-07-01T12:30:45
```

å¦‚æœä½ å‰ç«¯ä¼ äº†ï¼š

```
2025-07-01 12:30:45
```

å®ƒå°±æŠ¥é”™ï¼š

```
Text '2025-07-01 12:30:45' could not be parsed at index 10
```

ä¹Ÿå°±æ˜¯è¯´ï¼š
âœ… ä½ è¦å‘Šè¯‰Jacksonï¼š

* æˆ‘**è¦**ç”¨`yyyy-MM-dd HH:mm:ss`è¿™ç§æ ¼å¼ã€‚
* ä¸è¦ç”¨`2025-07-01T12:30:45`ã€‚

æ‰€ä»¥å°±è¦åœ¨é…ç½®é‡Œå†™ï¼š

* åºåˆ—åŒ–è§„åˆ™ï¼šæ€ä¹ˆæŠŠJavaæ—¶é—´å˜æˆå­—ç¬¦ä¸²ã€‚
* ååºåˆ—åŒ–è§„åˆ™ï¼šæ€ä¹ˆæŠŠå­—ç¬¦ä¸²å˜æˆJavaæ—¶é—´ã€‚

---

# ğŸŒŸ ç”¨ä¸€ä¸ªç”Ÿæ´»æ¯”å–»

æƒ³è±¡ä¸€ä¸‹ï¼š

* åºåˆ—åŒ– = æŠŠè›‹ç³•**åˆ‡æˆç‰‡**æ”¾åˆ°ç›’å­é‡Œå¯„ç»™åˆ«äººï¼ˆJavaå¯¹è±¡ â¡ï¸ JSONï¼‰
* ååºåˆ—åŒ– = æ”¶åˆ°è›‹ç³•ç‰‡**æ‹¼å›å»**å˜æˆå®Œæ•´è›‹ç³•ï¼ˆJSON â¡ï¸ Javaå¯¹è±¡ï¼‰

å¦‚æœä½ ä¸å‘Šè¯‰åˆ«äººæ€ä¹ˆåˆ‡å’Œæ‹¼ï¼Œåˆ«äººå°±ä¼šæ‹¼é”™ï¼ˆæŠ¥é”™ï¼‰ã€‚

---

# ğŸŒŸ ä½ çš„é‚£æ®µé…ç½®åœ¨å¹²ä»€ä¹ˆï¼Ÿ

è¿™æ®µé…ç½®å°±æ˜¯ï¼š
âœ… å‘Šè¯‰Jacksonï¼š

> ä»¥åæ‰€æœ‰LocalDateTimeï¼Œéƒ½ç”¨`yyyy-MM-dd HH:mm:ss`æ ¼å¼åºåˆ—åŒ–ï¼ˆåˆ‡ç‰‡ï¼‰ï¼Œä¹Ÿç”¨è¿™ä¸ªæ ¼å¼ååºåˆ—åŒ–ï¼ˆæ‹¼è›‹ç³•ï¼‰ã€‚

**å¾ˆç®€å•ï¼š**

* LocalDateTime â¡ï¸ "2025-07-01 12:30:45"
* "2025-07-01 12:30:45" â¡ï¸ LocalDateTime

è¿™æ ·å‰åç«¯æ‰å¯¹å¾—ä¸Šã€‚

---

# ğŸŒŸ æ€»ç»“ä¸€æ®µæœ€é€šä¿—çš„è§£é‡Š

**â€œåºåˆ—åŒ–å’Œååºåˆ—åŒ–è§„åˆ™â€å°±æ˜¯è¯´ï¼š**

> **â€œåç«¯æŠŠæ—¥æœŸæ ¼å¼åŒ–æˆä»€ä¹ˆæ ·çš„å­—ç¬¦ä¸²ç»™å‰ç«¯ï¼Œå‰ç«¯å†æŠŠè¿™ä¸ªå­—ç¬¦ä¸²ä¼ å›æ¥ï¼Œåç«¯è¦èƒ½çœ‹æ‡‚å®ƒã€‚â€**

**ä½ çš„é…ç½®å°±æ˜¯ï¼š**
âœ… è®©å®ƒç”¨`yyyy-MM-dd HH:mm:ss`è¿™ç§æœ€å¸¸ç”¨çš„æ ¼å¼ã€‚

---
---

# ä»£ç ï¼ˆç®€åŒ–ç‰ˆï¼Œæ–¹ä¾¿è®²è§£ï¼‰

```java
@Value("${spring.jackson.date-format:yyyy-MM-dd HH:mm:ss}")
private String pattern;

@Bean
public LocalDateTimeSerializer localDateTimeSerializer() {
    return new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern));
}

@Bean
public LocalDateTimeDeserializer localDateTimeDeserializer() {
    return new LocalDateTimeDeserializer(DateTimeFormatter.ofPattern(pattern));
}

@Bean
public LocalDateSerializer localDateSerializer() {
    return new LocalDateSerializer(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
}

@Bean
public LocalDateDeserializer localDateDeserializer() {
    return new LocalDateDeserializer(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
}

@Bean
public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {
    return builder -> {
        builder.serializerByType(LocalDateTime.class, localDateTimeSerializer());
        builder.deserializerByType(LocalDateTime.class, localDateTimeDeserializer());
        builder.serializerByType(LocalDate.class, localDateSerializer());
        builder.deserializerByType(LocalDate.class, localDateDeserializer());
        builder.simpleDateFormat(pattern);
    };
}
```

---

# é€ä¸ªè®²è§£

---

### 1. `@Value("${spring.jackson.date-format:yyyy-MM-dd HH:mm:ss}")`

```java
@Value("${spring.jackson.date-format:yyyy-MM-dd HH:mm:ss}")
private String pattern;
```

* **ä½œç”¨**ï¼šä»ä½ çš„`application.yml`è¯»å–`spring.jackson.date-format`è¿™ä¸ªé…ç½®é¡¹çš„å€¼ã€‚
* **ä¸¾ä¾‹**ï¼šå¦‚æœ`application.yml`é‡Œå†™äº†`spring.jackson.date-format=yyyy-MM-dd HH:mm:ss`ï¼Œé‚£ä¹ˆ`pattern`å°±ç­‰äº`"yyyy-MM-dd HH:mm:ss"`ã€‚
* **é»˜è®¤å€¼**ï¼šå¦‚æœé…ç½®æ–‡ä»¶æ²¡å†™ï¼Œå°±ç”¨åé¢å†’å·åçš„é»˜è®¤æ ¼å¼`"yyyy-MM-dd HH:mm:ss"`ã€‚

---

### 2. `LocalDateTimeSerializer`

```java
@Bean
public LocalDateTimeSerializer localDateTimeSerializer() {
    return new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern));
}
```

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªJacksonåºåˆ—åŒ–å™¨ï¼Œç”¨æ¥**æŠŠJavaé‡Œçš„LocalDateTimeå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²**ï¼Œæ ¼å¼æŒ‰ç…§`pattern`æ¥æ ¼å¼åŒ–ã€‚
* **ä¸¾ä¾‹**ï¼š`LocalDateTime.of(2025,7,1,12,34,56)`ä¼šè¢«è½¬æˆå­—ç¬¦ä¸²`"2025-07-01 12:34:56"`ã€‚
* **ä¸å†™çš„æƒ…å†µä¸‹**ï¼šJacksonä¼šç”¨é»˜è®¤ISOæ ¼å¼ï¼Œå­—ç¬¦ä¸²é‡Œä¼šæœ‰ä¸ª`T`ï¼Œåƒ`"2025-07-01T12:34:56"`ã€‚

---

### 3. `LocalDateTimeDeserializer`

```java
@Bean
public LocalDateTimeDeserializer localDateTimeDeserializer() {
    return new LocalDateTimeDeserializer(DateTimeFormatter.ofPattern(pattern));
}
```

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªJacksonååºåˆ—åŒ–å™¨ï¼Œç”¨æ¥**æŠŠç¬¦åˆ`pattern`æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢æˆJavaçš„LocalDateTimeå¯¹è±¡**ã€‚
* **ä¸¾ä¾‹**ï¼šå­—ç¬¦ä¸²`"2025-07-01 12:34:56"`ï¼Œååºåˆ—åŒ–æˆ`LocalDateTime.of(2025,7,1,12,34,56)`ã€‚
* **ä¸å†™çš„æƒ…å†µä¸‹**ï¼šJacksonåªé»˜è®¤æ”¯æŒå¸¦`T`çš„ISOæ ¼å¼ï¼Œåƒ`"2025-07-01T12:34:56"`ï¼Œä¸æ”¯æŒ`"2025-07-01 12:34:56"`æ ¼å¼ï¼Œä¼šæŠ¥é”™ã€‚

---

### 4. `LocalDateSerializer`

```java
@Bean
public LocalDateSerializer localDateSerializer() {
    return new LocalDateSerializer(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
}
```

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªåºåˆ—åŒ–å™¨ï¼ŒæŠŠ`LocalDate`ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²æ ¼å¼ä¸º`yyyy-MM-dd`çš„æ—¥æœŸå­—ç¬¦ä¸²ã€‚
* **ä¸¾ä¾‹**ï¼š`LocalDate.of(2025,7,1)`å˜æˆ`"2025-07-01"`ã€‚

---

### 5. `LocalDateDeserializer`

```java
@Bean
public LocalDateDeserializer localDateDeserializer() {
    return new LocalDateDeserializer(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
}
```

* **ä½œç”¨**ï¼šåˆ›å»ºä¸€ä¸ªååºåˆ—åŒ–å™¨ï¼ŒæŠŠç¬¦åˆ`yyyy-MM-dd`æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢æˆ`LocalDate`ã€‚
* **ä¸¾ä¾‹**ï¼šå­—ç¬¦ä¸²`"2025-07-01"`å˜æˆ`LocalDate.of(2025,7,1)`ã€‚

---

### 6. `Jackson2ObjectMapperBuilderCustomizer`

```java
@Bean
public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {
    return builder -> {
        builder.serializerByType(LocalDateTime.class, localDateTimeSerializer());
        builder.deserializerByType(LocalDateTime.class, localDateTimeDeserializer());
        builder.serializerByType(LocalDate.class, localDateSerializer());
        builder.deserializerByType(LocalDate.class, localDateDeserializer());
        builder.simpleDateFormat(pattern);
    };
}
```

* **ä½œç”¨**ï¼šè¿™ä¸ªBeanæ˜¯å…³é”®ï¼ŒSpring Bootå¯åŠ¨æ—¶ï¼Œå®ƒå¸®ä½ å‘Šè¯‰Jacksonï¼š

  * ç”¨åˆšåˆšå®šä¹‰çš„åºåˆ—åŒ–å™¨æ¥å¤„ç†`LocalDateTime`çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚
  * ç”¨åˆšåˆšå®šä¹‰çš„åºåˆ—åŒ–å™¨æ¥å¤„ç†`LocalDate`çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚
  * ç”¨`pattern`æ ¼å¼æ¥å¤„ç†ä¼ ç»Ÿ`java.util.Date`ç±»å‹ï¼ˆç®€å•æ—¥æœŸç±»ï¼‰ã€‚
* **ä¸ºä»€ä¹ˆè¦å†™è¿™ä¸ªBean**ï¼š
  å› ä¸ºSpring Booté»˜è®¤ä¸ä¸€å®šç”¨ä½ æƒ³è¦çš„æ ¼å¼ï¼Œå°¤å…¶æ˜¯Java 8çš„æ—¶é—´ç±»ï¼ˆ`LocalDateTime`ã€`LocalDate`ï¼‰é»˜è®¤æ˜¯ISOæ ¼å¼ï¼Œå¸¦`T`å’Œ`Z`ï¼Œä¸å‹å¥½ã€‚
  è¿™ä¸ªBeanå¸®ä½ â€œå‘Šè¯‰Jacksonï¼Œåˆ«ç”¨é»˜è®¤çš„ï¼Œç”¨æˆ‘å®šå¥½çš„æ ¼å¼ã€‚â€

---

# æ•´ä½“æ€»ç»“

* ä½ è¿™æ®µä»£ç å°±æ˜¯å¸®Spring Bootçš„JSONå¤„ç†å™¨ï¼ˆJacksonï¼‰å®šåˆ¶æ—¥æœŸæ—¶é—´æ ¼å¼ï¼Œ
* è®©ä½ çš„æ—¶é—´ç±»ï¼ˆ`LocalDateTime`ã€`LocalDate`ã€`Date`ï¼‰éƒ½èƒ½ç”¨ä½ å–œæ¬¢çš„æ ·å­åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œ
* é¿å…é»˜è®¤çš„`T`åˆ†éš”ç¬¦å’ŒISOæ ¼å¼å¯¼è‡´å‰ç«¯æ ¼å¼éš¾çœ‹æˆ–è§£æå¤±è´¥ã€‚

---
---


# ä»£ç å¥å­

```java
return new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern));
```

---

# é€è¯é€å—è®²è§£ï¼š

### 1. `return`

* æ„æ€ï¼šæŠŠåé¢åˆ›å»ºçš„ä¸œè¥¿ç»™è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„äººã€‚
* æ¯”å¦‚ï¼šè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯â€œé€ ä¸€ä¸ªä¸œè¥¿â€ï¼Œç„¶åç”¨`return`æŠŠè¿™ä¸ªä¸œè¥¿äº¤å‡ºå»ã€‚

---

### 2. `new LocalDateTimeSerializer(...)`

* `new`ï¼šå‘Šè¯‰Javaæˆ‘è¦é€ ä¸€ä¸ª**æ–°çš„å¯¹è±¡**ï¼ˆå®ä¾‹ï¼‰ã€‚
* `LocalDateTimeSerializer`ï¼šè¿™ä¸ªæ˜¯Jacksoné‡Œé¢è´Ÿè´£â€œæŠŠ`LocalDateTime`ç±»å‹çš„Javaå¯¹è±¡å˜æˆå­—ç¬¦ä¸²â€çš„å·¥å…·ç±»ï¼ˆåºåˆ—åŒ–å™¨ï¼‰ã€‚
* `LocalDateTimeSerializer(...)`åé¢çš„æ‹¬å·æ˜¯**ç»™è¿™ä¸ªå¯¹è±¡ä¼ å…¥é…ç½®å‚æ•°**ã€‚

ç®€å•æ¯”å–»ï¼š

* ä½ è¦é€ ä¸€ä¸ªâ€œæ—¶é—´è½¬å­—ç¬¦ä¸²â€çš„æœºå™¨ï¼Œ`LocalDateTimeSerializer`å°±æ˜¯æœºå™¨çš„å‹å·ï¼Œ
* `new`æ˜¯åˆ¶é€ è¿™ä¸ªæœºå™¨çš„åŠ¨ä½œï¼Œ
* æ‹¬å·é‡Œç»™æœºå™¨è£…ä¸Šäº†â€œæ—¶é—´æ ¼å¼è§„åˆ™â€ã€‚

---

### 3. `DateTimeFormatter.ofPattern(pattern)`

* `DateTimeFormatter`æ˜¯Javaè‡ªå¸¦çš„â€œæ—¶é—´æ ¼å¼åŒ–å·¥å…·â€ï¼Œä¸“é—¨ç”¨æ¥å®šä¹‰â€œæ—¶é—´çš„æ ·å­â€ï¼ˆæ¯”å¦‚å¹´æœˆæ—¥ä¹‹é—´ç”¨ä»€ä¹ˆç¬¦å·ï¼Œæ—¶åˆ†ç§’æ€ä¹ˆæ’ï¼‰ã€‚
* `ofPattern(pattern)`ï¼šè¿™ä¸ªæ–¹æ³•å°±æ˜¯â€œå‘Šè¯‰è¿™ä¸ªæ ¼å¼åŒ–å·¥å…·ï¼ŒæŒ‰ç…§`pattern`è¿™ä¸ªå­—ç¬¦ä¸²æ ·å¼æ¥å·¥ä½œâ€ã€‚
* `pattern`æ˜¯ä½ å®šä¹‰å¥½çš„æ ¼å¼å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚`"yyyy-MM-dd HH:mm:ss"`ã€‚

ä¸¾ä¾‹ï¼š

* `DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")` å°±æ˜¯å®šä¹‰ä¸€ä¸ªâ€œæ¨¡æ¿â€ï¼Œ
* æŒ‰è¿™ä¸ªæ¨¡æ¿ï¼Œ`2025å¹´7æœˆ1æ—¥ 12ç‚¹34åˆ†56ç§’`ä¼šè¢«æ ¼å¼åŒ–æˆ `"2025-07-01 12:34:56"` è¿™ä¸ªå­—ç¬¦ä¸²ã€‚

---

### ç»“åˆèµ·æ¥

* `new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern))`
* **æ„æ€å°±æ˜¯ï¼š**

  * â€œé€ ä¸€ä¸ªèƒ½æŠŠLocalDateTimeå¯¹è±¡è½¬æˆå­—ç¬¦ä¸²çš„åºåˆ—åŒ–å™¨ï¼Œè½¬æˆå­—ç¬¦ä¸²çš„æ ¼å¼å°±æ˜¯ç”¨`pattern`å®šä¹‰çš„æ ¼å¼ã€‚â€

---

### ç”Ÿæ´»æ¯”å–»

å‡è®¾ä½ æ˜¯å°åˆ·å‚è€æ¿ï¼š

* `LocalDateTimeSerializer` = ä¸€å°å°è¡¨æœºï¼Œè´Ÿè´£æŠŠæ—¶é—´â€œæ‰“â€æˆä½ è¦çš„æ ·å­ã€‚
* `DateTimeFormatter.ofPattern(pattern)` = ä½ ç»™å°è¡¨æœºçš„å°åˆ·æ¨¡æ¿ã€‚
* `new` = ä¹°ä¸€å°å°è¡¨æœºå¹¶ä¸”è£…å¥½æ¨¡æ¿ã€‚
* `return` = æŠŠè¿™å°è£…å¥½æ¨¡æ¿çš„å°è¡¨æœºäº¤ç»™éœ€è¦çš„äººã€‚

---

# ä¸€å¥è¯æ€»ç»“

**è¿™å¥ä»£ç åˆ›å»ºäº†ä¸€ä¸ªâ€œæ—¶é—´æ ¼å¼è½¬æ¢æœºå™¨â€ï¼Œè´Ÿè´£æŠŠJavaçš„æ—¶é—´å¯¹è±¡è½¬æ¢æˆä½ æƒ³è¦æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åæŠŠè¿™å°æœºå™¨è¿”å›ç»™è°ƒç”¨è€…ã€‚**

---
---

# ğŸŒŸ å…¨éƒ¨ä»£ç å…ˆçœ‹ä¸€çœ¼

```java
@Bean
public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {
    return builder -> {
        builder.serializerByType(LocalDateTime.class, localDateTimeSerializer());
        builder.deserializerByType(LocalDateTime.class, localDateTimeDeserializer());
        builder.serializerByType(LocalDate.class, localDateSerializer());
        builder.deserializerByType(LocalDate.class, localDateDeserializer());
        builder.simpleDateFormat(pattern);
    };
}
```

è¿™ä¸ªä¸œè¥¿ï¼š
âœ… æ˜¯ä¸€ä¸ª **Spring Bean**
âœ… Spring Bootå¯åŠ¨æ—¶ï¼Œä¼š**å®šåˆ¶ Jackson çš„ ObjectMapper**ï¼Œä¹Ÿå°±æ˜¯å…¨å±€çš„JSONåºåˆ—åŒ–/ååºåˆ—åŒ–é…ç½®å™¨ã€‚

---

# ğŸš€ ä¸€è¡Œä¸€è¡Œè§£é‡Š

---

## 1ï¸âƒ£ `@Bean`

```java
@Bean
```

* è¿™æ˜¯Springçš„æ³¨è§£ã€‚
* è¡¨ç¤ºï¼šè¿™æ˜¯ä¸€ä¸ªâ€œç»„ä»¶â€ï¼ŒSpring Bootå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åŠ è½½ã€‚

---

## 2ï¸âƒ£ æ–¹æ³•å®šä¹‰

```java
public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer()
```

* æ–¹æ³•åéšä¾¿èµ·ã€‚
* è¿”å›ç±»å‹ï¼š`Jackson2ObjectMapperBuilderCustomizer`

  * ç¿»è¯‘ï¼šJackson çš„â€œé…ç½®å®šåˆ¶å™¨â€ã€‚
  * ä¸“é—¨ç”¨æ¥ä¿®æ”¹Jacksonåœ¨å¯åŠ¨æ—¶çš„é…ç½®ã€‚

---

## 3ï¸âƒ£ `return builder -> { ... }`

è¿™æ˜¯Javaçš„lambdaå†™æ³•ï¼Œç­‰åŒäºï¼š

```java
return new Jackson2ObjectMapperBuilderCustomizer() {
    @Override
    public void customize(Jackson2ObjectMapperBuilder builder) {
        // è¿™é‡Œæ˜¯å®šåˆ¶é€»è¾‘
    }
};
```

**æ¢å¥è¯è¯´ï¼š**
è¿™é‡Œå®šä¹‰äº†**ä¸€ä»½é…ç½®æ¸…å•**ï¼Œå‘Šè¯‰Jacksonï¼š

> "å¯åŠ¨çš„æ—¶å€™ï¼Œç”¨æˆ‘ä¸‹é¢è¯´çš„è¿™äº›åºåˆ—åŒ–/ååºåˆ—åŒ–è§„åˆ™ï¼"

---

ä¸‹é¢æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œå°±æ˜¯ `builder.xxx`ï¼Œæ¯ä¸€è¡Œéƒ½åœ¨å‘Šè¯‰Jacksonæ€ä¹ˆå¤„ç†æŸç§ç±»å‹ã€‚

---

## 4ï¸âƒ£ `builder.serializerByType(LocalDateTime.class, localDateTimeSerializer());`

**ä½œç”¨ï¼š**

* æŒ‡å®šï¼š

  > å½“æŠŠ`LocalDateTime`å¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨æˆ‘è‡ªå·±å®šä¹‰çš„`localDateTimeSerializer()`ã€‚

**ä¸¾ä¾‹ï¼š**

* Javaé‡Œï¼š

  ```java
  LocalDateTime dateTime = LocalDateTime.of(2025,7,1,12,34,56);
  ```
* åºåˆ—åŒ–åJSONï¼š

  ```json
  "2025-07-01 12:34:56"
  ```

å¦‚æœä¸å†™è¿™ä¸€è¡Œï¼Œé»˜è®¤ä¼šå˜æˆï¼š

```json
"2025-07-01T12:34:56"
```

ä¸­é—´æœ‰ä¸€ä¸ª`T`ã€‚

---

## 5ï¸âƒ£ `builder.deserializerByType(LocalDateTime.class, localDateTimeDeserializer());`

**ä½œç”¨ï¼š**

* æŒ‡å®šï¼š

  > å½“æŠŠJSONå­—ç¬¦ä¸²è½¬æˆ`LocalDateTime`å¯¹è±¡æ—¶ï¼Œä½¿ç”¨æˆ‘å®šä¹‰çš„`localDateTimeDeserializer()`ã€‚

**ä¸¾ä¾‹ï¼š**

* å‰ç«¯ä¼ ï¼š

  ```json
  "2025-07-01 12:34:56"
  ```
* Jacksonååºåˆ—åŒ–ä¸ºï¼š

  ```java
  LocalDateTime.of(2025,7,1,12,34,56)
  ```

**å¦‚æœä¸å†™ï¼Ÿ**

* Jacksonåªè®¤è¯†å¸¦`T`çš„æ ¼å¼ï¼Œæ¯”å¦‚`"2025-07-01T12:34:56"`ã€‚

---

## 6ï¸âƒ£ `builder.serializerByType(LocalDate.class, localDateSerializer());`

**ä½œç”¨ï¼š**

* æŒ‡å®šï¼š

  > `LocalDate`è½¬æˆJSONæ—¶ï¼Œç”¨`yyyy-MM-dd`æ ¼å¼ã€‚

**ä¸¾ä¾‹ï¼š**

* Javaé‡Œï¼š

  ```java
  LocalDate date = LocalDate.of(2025,7,1);
  ```
* åºåˆ—åŒ–åJSONï¼š

  ```json
  "2025-07-01"
  ```

---

## 7ï¸âƒ£ `builder.deserializerByType(LocalDate.class, localDateDeserializer());`

**ä½œç”¨ï¼š**

* æŒ‡å®šï¼š

  > JSONå­—ç¬¦ä¸²è½¬æˆ`LocalDate`æ—¶ï¼Œç”¨`yyyy-MM-dd`è§£æã€‚

**ä¸¾ä¾‹ï¼š**

* å‰ç«¯ä¼ ï¼š

  ```json
  "2025-07-01"
  ```
* Jacksonå˜æˆï¼š

  ```java
  LocalDate.of(2025,7,1)
  ```

---

## 8ï¸âƒ£ `builder.simpleDateFormat(pattern);`

**ä½œç”¨ï¼š**

* è®¾ç½®\*\*æ—§çš„Dateç±»å‹ï¼ˆ`java.util.Date`ï¼‰\*\*çš„é»˜è®¤æ ¼å¼ã€‚
* `pattern`ä¸€èˆ¬æ˜¯`"yyyy-MM-dd HH:mm:ss"`ã€‚

**ä¸¾ä¾‹ï¼š**

* Javaé‡Œï¼š

  ```java
  Date date = new Date();
  ```
* åºåˆ—åŒ–åJSONï¼š

  ```json
  "2025-07-01 12:34:56"
  ```

**æ³¨æ„ï¼š**
è¿™ä¸€è¡Œ**åªå½±å“æ—§çš„Dateç±»å‹**ï¼Œè·ŸJava8çš„`LocalDateTime`æ²¡å…³ç³»ã€‚

---

# ğŸ§  å°æç¤ºï¼šæ‰§è¡Œé¡ºåº

å¯åŠ¨æ—¶ï¼ŒSpring Bootåšçš„äº‹æƒ…ï¼š

1. åŠ è½½é»˜è®¤Jacksoné…ç½®ã€‚
2. è¯»å–`application.yml`é‡Œ`spring.jackson.*`é…ç½®ã€‚
3. æ‰§è¡Œä½ è¿™ä¸ª`jackson2ObjectMapperBuilderCustomizer()`ã€‚

   * è¿™é‡Œ**ä¼šè¦†ç›–æ‰ä¸Šé¢ymlçš„é…ç½®**ã€‚

---

# ğŸš¦ æ€»ç»“

é€šä¿—è®²ï¼š

> è¿™ä¸ª`jackson2ObjectMapperBuilderCustomizer()`å°±æ˜¯**å®šåˆ¶JSONåºåˆ—åŒ–ååºåˆ—åŒ–çš„æŒ‡æŒ¥å®˜**ï¼š
> âœ… æŠŠLocalDateTimeç”¨ä»€ä¹ˆæ ¼å¼è½¬æˆå­—ç¬¦ä¸²ï¼Ÿ
> âœ… æŠŠå­—ç¬¦ä¸²å˜å›LocalDateTimeï¼Ÿ
> âœ… LocalDateå‘¢ï¼Ÿ
> âœ… Dateå‘¢ï¼Ÿ
> éƒ½åœ¨è¿™é‡Œä¸€æ¬¡æ€§è¯´æ¸…æ¥šã€‚

---

# âœ¨ å¦‚æœè¦æœ€ç®€å•è®°å¿†

æ¯ä¸€è¡Œå°±æ˜¯ï¼š

* `serializerByType(A, B)`ï¼š**Aå¯¹è±¡ â¡ï¸ ç”¨Bæ–¹å¼è½¬å­—ç¬¦ä¸²**
* `deserializerByType(A, B)`ï¼š**å­—ç¬¦ä¸² â¡ï¸ ç”¨Bæ–¹å¼å˜å›Aå¯¹è±¡**
* `simpleDateFormat(...)`ï¼š**Dateç±»å‹å­—ç¬¦ä¸²æ€ä¹ˆå†™**

---
---

```java
builder.simpleDateFormat(pattern);
```

---

## ğŸ§  å…ˆå¼„æ‡‚ä¸€å¥è¯ï¼š

> **Javaé‡Œæœ‰ä¸¤å¥—æ—¶é—´ç±»å‹**ï¼š
>
> 1. æ—§çš„æ—¶é—´ç±»ï¼š`java.util.Date`ï¼ˆè€å¤è‘£ï¼‰
> 2. æ–°çš„æ—¶é—´ç±»ï¼š`LocalDateTime`ã€`LocalDate`ï¼ˆJava 8å¼€å§‹å¼•å…¥ï¼‰

---

### ğŸ§¾ ä¸€ã€ä½ å†™çš„è¿™å¥ä»£ç çš„ä½œç”¨ï¼š

```java
builder.simpleDateFormat(pattern);
```

**å°±æ˜¯å‘Šè¯‰ Jacksonï¼š**

> â€œå¦‚æœé‡åˆ°çš„æ˜¯ `Date` ç±»å‹ï¼ˆè€æ—¶é—´ç±»å‹ï¼‰ï¼Œå°±ç”¨æˆ‘è¿™ä¸ªæ ¼å¼ï¼š`yyyy-MM-dd HH:mm:ss` æ¥è½¬æˆå­—ç¬¦ä¸²ã€‚â€

---

### ğŸ§ª äºŒã€ä¸¾ä¸ªä¾‹å­ï¼ˆä¸€å®šèƒ½çœ‹æ‡‚ï¼‰

#### âœ… å¦‚æœä½ æœ‰è¿™ä¸ªJavaç±»ï¼š

```java
public class TestDate {
    private Date oldTime;  // æ—§çš„æ—¶é—´ç±»å‹
    private LocalDateTime newTime; // æ–°çš„æ—¶é—´ç±»å‹
}
```

---

#### âœ… åç«¯èµ‹å€¼ï¼š

```java
TestDate test = new TestDate();
test.setOldTime(new Date()); // è€çš„ Date
test.setNewTime(LocalDateTime.of(2025, 7, 1, 12, 34, 56)); // æ–°çš„ LocalDateTime
```

---

#### âœ… è¿”å›ç»™å‰ç«¯çš„JSONé•¿è¿™æ ·ï¼š

ï¼ˆå‡è®¾ä½ åŠ äº†ä¸Šé¢çš„ `.simpleDateFormat(...)` å’Œè‡ªå®šä¹‰äº† LocalDateTime åºåˆ—åŒ–å™¨ï¼‰

```json
{
  "oldTime": "2025-07-01 12:34:56",  // ç”± builder.simpleDateFormat å†³å®š
  "newTime": "2025-07-01 12:34:56"   // ç”±ä½ æ³¨å†Œçš„ LocalDateTimeSerializer å†³å®š
}
```

---

## â“å¦‚æœä¸åŠ  `.simpleDateFormat(pattern)` ä¼šæ€ä¹ˆæ ·ï¼Ÿ

é»˜è®¤æƒ…å†µä¸‹ï¼ŒJacksonä¼šæŠŠ `Date` è½¬æˆâ€œæ—¶é—´æˆ³â€æ•°å­—ï¼š

```json
{
  "oldTime": 1720103696000   // æ¯«ç§’æ•°ï¼Œå‰ç«¯ä¹Ÿçœ‹ä¸æ‡‚
}
```

æ‰€ä»¥ä½ åŠ  `.simpleDateFormat()` å°±æ˜¯ä¸ºäº†è®© `Date` ä¹Ÿå˜å¾—äººèƒ½çœ‹æ‡‚ã€‚

---

## âœ… æ€»ç»“ä¸€å¥è¯ï¼š

| æ—¶é—´ç±»å‹            | é»˜è®¤è¡¨ç°        | `.simpleDateFormat()` å½±å“å®ƒå—ï¼Ÿ |
| --------------- | ----------- | --------------------------- |
| `Date`          | ä¼šå˜æˆæ•°å­—       | âœ… ä¼šï¼Œè®¾ç½®æˆä½ æƒ³è¦çš„æ ¼å¼               |
| `LocalDateTime` | ä¼šå˜æˆå¸¦Tçš„å­—ç¬¦ä¸²   | âŒ ä¸ä¼šï¼Œå¿…é¡»è‡ªå®šä¹‰Serializer        |
| `LocalDate`     | ä¼šå˜æˆå¸¦Tå­—ç¬¦ä¸²æˆ–æ•°ç»„ | âŒ ä¸ä¼šï¼Œå¿…é¡»è‡ªå®šä¹‰Serializer        |

---

### æ‰€ä»¥ç»“è®ºï¼š

```java
builder.simpleDateFormat(pattern);
```

âœ… **åªæ§åˆ¶ `Date` ç±»å‹**åœ¨JSONä¸­çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚

å¦‚æœä½ é¡¹ç›®ä¸­ç”¨äº†`LocalDateTime`ã€`LocalDate`ï¼Œå¿…é¡»å†™è‡ªå®šä¹‰åºåˆ—åŒ–å™¨ï¼ˆä½ ä¸Šé¢é‚£äº› `@Bean` æ–¹æ³•ï¼‰æ‰ä¼šç”Ÿæ•ˆã€‚

---




